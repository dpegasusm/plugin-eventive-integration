/* =============================
   Eventive Events — Layout & Styles
   Reference: events-list.php element structure
   ============================= */

/* General */
.event-schedule-container {
  margin: 8px auto;
  padding: 8px 12px;
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
  font-family: var(--font-family-base);
}

/* Groups */
.event-group {
  margin-bottom: 12px;
  padding: 12px;
  border: 1px solid var(--border-color);
  border-radius: 6px;
  background-color: var(--background-color-muted);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
}
.event-group-header {
  margin: 0 0 12px;
  padding: 8px 10px;
  text-align: center;
  font-size: clamp(1rem, 1.2vw + 0.6rem, var(--font-size-h4));
  font-weight: bold;
  color: var(--button-text);
  border-radius: 4px;
}

/* Grid of items inside a group (desktop: up to 3 cols) */
.event-group-items {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 12px;
}
/* Smart single/dual rows for small counts in a day */
.event-group-items.events-count-1 { grid-template-columns: 1fr; }
.event-group-items.events-count-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }

@media (max-width: 1024px) {
  .event-group-items { grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (max-width: 520px) {
  .event-group-items { grid-template-columns: 1fr; }
}

/* =============================
   Event Card
   ============================= */
.event-item {
  display: flex;
  gap: 12px;
  padding: 12px;
  border: 1px solid var(--border-color);
  border-radius: 6px;
  background-color: var(--background);
  box-shadow: 0 1px 3px rgba(0,0,0,0.08);
  width: 100%;
  transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}
.event-item.image-left { align-items: flex-start; flex-direction: row; }
.event-item.image-top  { align-items: stretch;  flex-direction: column; }

@media (hover: hover) {
  .event-item:hover { transform: translateY(-2px); box-shadow: 0 3px 6px rgba(0,0,0,0.16); }
}

/* NEW: Row layout with 4 columns (media, meta, cta, share) */
.event-item.row-layout {
  display: grid;
  grid-template-columns: minmax(96px, 220px) 1fr auto auto;
  align-items: start;
  gap: 12px;
}
.event-col.media { width: 100%; }
.event-col.meta  { min-width: 0; }
.event-col.cta   { display: flex; align-items: center; justify-content: center; }
.event-col.share { display: flex; align-items: center; gap: 8px; }

/* Titles & text inside cards */
.event-title { margin: 0 0 6px; font-size: clamp(1rem, 0.6vw + 0.8rem, var(--font-size-h5)); color: var(--text-color); }
.event-time, .event-venue { margin: 2px 0; font-size: clamp(0.9rem, 0.4vw + 0.7rem, var(--font-size-small)); color: var(--disabled-text); }
.event-excerpt p { margin: 6px 0 0; font-size: clamp(0.9rem, 0.4vw + 0.7rem, var(--font-size-small)); color: var(--disabled-text); }

/* Tickets & share */
.event-buy-tickets { text-align: left; }
.copy-share { cursor: pointer; }
.share-status { font-size: 0.9em; }

/* Responsive collapse of 4-column row */
@media (max-width: 1024px) {
  .event-item.row-layout { grid-template-columns: minmax(96px, 200px) 1fr auto; }
  .event-col.share { grid-column: 1 / -1; justify-content: flex-start; }
}
@media (max-width: 680px) {
  .event-item.row-layout { grid-template-columns: 1fr; }
  .event-col.cta, .event-col.share { justify-content: center; }
}

/* =============================
   Media & Rotator
   ============================= */
.event-media { width: 100%; }
.event-media.image-left { flex-shrink: 0; }
.event-media.image-top  { width: 100%; }

/* Rotator container keeps aspect ratio */
.event-poster-rotator { position: relative; width: 100%; overflow: hidden; }
.event-media.image-left .event-poster-rotator { aspect-ratio: 2 / 3; }
.event-media.image-top  .event-poster-rotator { aspect-ratio: 16 / 9; }

/* Frames inside rotator */
.event-poster-rotator img {
  position: absolute; inset: 0; width: 100%; height: 100%;
  object-fit: cover; opacity: 0; transition: opacity 0.6s ease; border-radius: 6px;
}
.event-item.image-top .event-poster-rotator img { border-bottom-left-radius: 0; border-bottom-right-radius: 0; }
.event-poster-rotator img.active { opacity: 1; }

/* Single-image helper to preserve sizing without rotator */
.event-poster.frame { display: block; width: 100%; border-radius: 6px; object-fit: cover; }
.event-media.image-left .event-poster.frame { aspect-ratio: 2 / 3; }
.event-media.image-top  .event-poster.frame { aspect-ratio: 16 / 9; border-bottom-left-radius: 0; border-bottom-right-radius: 0; }

/* Legacy poster container — kept for backward compatibility */
.event-poster-container { flex-shrink: 0; width: 96px; }
.event-item.image-top .event-poster-container { width: 100%; }
.event-poster { display: block; width: 100%; border-radius: 6px; aspect-ratio: 2 / 3; object-fit: cover; box-shadow: 0 1px 2px rgba(0,0,0,0.08); }
.event-item.image-top .event-poster { aspect-ratio: 16 / 9; width: 100%; border-bottom-left-radius: 0; border-bottom-right-radius: 0; }

/* Mobile media expansion */
@media (max-width: 520px) {
  .event-media.image-left { width: 100%; max-width: 100%; margin: 0 auto 10px; }
}

/* No-image card tweak */
.event-item.no-image .event-details-container { margin-top: 0; }

/* Motion & fallback */
@media (prefers-reduced-motion: reduce) {
  .event-item { transition: none; }
  .event-poster-rotator img { transition: none; }
}
@supports not (aspect-ratio: 2 / 3) {
  .event-poster, .event-poster.frame { height: auto; }
}

/* =============================
   Single Event — Header & Films Grid
   ============================= */
.single-event-header { border-bottom: 1px solid rgb(211, 187, 245); padding-bottom: 8px; }
.single-event-header {
  display: flex !important;
  flex-wrap: wrap !important;
  gap: 20px !important;
  align-items: flex-start !important;
}

.single-event-header .event-media {
  flex: 0 0 40% !important;
  max-width: 40% !important;
}

.single-event-header .event-details {
  flex: 1 1 60% !important;
  display: grid !important;
  grid-template-columns: 1fr !important;
  gap: 10px !important;
}

@media (max-width: 768px) {
  .single-event-header {
    flex-direction: column !important;
  }
  .single-event-header .event-media,
  .single-event-header .event-details {
    flex: 1 1 100% !important;
    max-width: 100% !important;
  }
}
/* Right-align the ticket button in single-event header */
.single-event-header .event-ticket-button {
  margin-left: auto !important;
  justify-self: end !important; /* if .event-details is grid */
  align-self: start !important;  /* safe for flex/grid */
  text-align: right !important;
}
.single-event-header h1 { margin: 0; font-size: clamp(1.5rem, 2.5vw + 1rem, var(--font-size-h3)); }
.single-event-header h1 a { color: inherit; text-decoration: none; }
.single-event-header h1 a:hover { text-decoration: underline; }
span.event-title { font-size: clamp(1.5rem, 2.5vw + 1rem, var(--font-size-h3)); font-weight: bold; }

.film-details { margin-top: 16px; }
.film-details h2 { margin: 0 0 10px; font-size: clamp(1rem, 1.2vw + 0.6rem, var(--font-size-h4)); }

/* Simplified film cards: poster + title linking to guide */
.film-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(175px, 1fr)); gap: 12px; align-items: stretch; }
.film-card { display: flex; flex-direction: column; border: 1px solid var(--border-color); border-radius: 6px; background: var(--background); box-shadow: 0 1px 3px rgba(0,0,0,0.08); overflow: hidden; transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out; }
@media (hover: hover) { .film-card:hover { transform: translateY(-2px); box-shadow: 0 3px 6px rgba(0,0,0,0.16); } }
/* Desktop: limit film cards to 250px columns */
@media (min-width: 1025px) {
  .film-grid {
    /* Fixed-width tracks that wrap neatly */
    grid-template-columns: repeat(auto-fill, minmax(175px, 250px));
    justify-content: start; /* left-align any extra space */
  }
  .film-card {
    max-width: 250px;
  }
}
.film-link { display: block; color: inherit; text-decoration: none; }
.film-media { width: 100%; }
.film-media img { display: block; width: 100%; aspect-ratio: 2 / 3; object-fit: cover; }
.film-title { margin: 0; padding: 10px 10px 12px; font-size: clamp(1rem, 0.6vw + 0.8rem, var(--font-size-h5)); color: var(--text-color); }
.film-link:hover .film-title { text-decoration: underline; }

/* Mobile tweaks */
@media (max-width: 520px) {
  .film-grid { gap: 10px; grid-template-columns: 1fr 1fr; }
  .film-card { width: 100%; }
  .film-media img { width: 100%; }
}

/* End of stylesheet */