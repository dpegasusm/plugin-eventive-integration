(()=>{"use strict";const e=window.wp.element,n=window.ReactJSXRuntime,t=({venue:e})=>(0,n.jsxs)("div",{className:"eventive-venue-card",style:{display:"flex",border:"1px solid #ddd",padding:"2%",margin:"15px auto",borderRadius:"4px",backgroundColor:"#fff",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,n.jsx)("div",{style:{flexGrow:6},children:(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{style:{fontSize:"1.2em",color:"#333"},children:e.name}),(0,n.jsx)("br",{}),e.label&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{style:{color:"#666"},children:e.label}),(0,n.jsx)("br",{})]}),(0,n.jsxs)("span",{style:{color:"#555"},children:["Capacity: ",e.default_capacity||"N/A"]}),(0,n.jsx)("br",{}),e.description&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{style:{color:"#666",marginTop:"8px",display:"block"},children:e.description}),(0,n.jsx)("br",{})]}),e.address&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("strong",{style:{fontSize:"0.9em",color:"#555"},children:"Street Address:"}),(0,n.jsx)("br",{}),(0,n.jsx)("span",{style:{color:"#666"},children:e.address})]})]})}),e.seatmap_preview_image&&(0,n.jsx)("div",{style:{marginLeft:"20px",flexShrink:0},children:(0,n.jsx)("img",{src:e.seatmap_preview_image,alt:`${e.name} seatmap`,style:{maxWidth:"200px",height:"auto",borderRadius:"4px"}})})]}),s=()=>{const[s,i]=(0,e.useState)([]),[r,o]=(0,e.useState)(!0),[d,a]=(0,e.useState)(null);return(0,e.useEffect)(()=>{const e=()=>{const e=window.EventiveBlockData?.eventBucket||"";if(!e)return a("Event bucket not configured."),void o(!1);window.Eventive.request({method:"GET",path:`event_buckets/${e}/venues`,authenticatePerson:!1}).then(e=>{e&&Array.isArray(e.venues)?i(e.venues):a("No venues found."),o(!1)}).catch(e=>{console.error("[eventive-venues] Error fetching venues:",e),a(`Error fetching venues: ${e.message||"Unknown error"}`),o(!1)})};window.Eventive&&window.Eventive._ready?e():window.Eventive&&"function"==typeof window.Eventive.on?window.Eventive.on("ready",e):setTimeout(()=>{window.Eventive&&"function"==typeof window.Eventive.request?e():(console.error("[eventive-venues] Eventive API not available"),a("Eventive API not available"),o(!1))},1e3)},[]),r?(0,n.jsx)("div",{className:"eventive-venues-loading",style:{padding:"20px",textAlign:"center"},children:(0,n.jsx)("p",{children:"Loading venues..."})}):d?(0,n.jsx)("div",{className:"eventive-venues-error",style:{padding:"15px",backgroundColor:"#fef7f1",borderLeft:"4px solid #d63638",color:"#d63638"},children:(0,n.jsx)("p",{children:d})}):0===s.length?(0,n.jsx)("div",{className:"eventive-venues-empty",style:{padding:"20px",textAlign:"center"},children:(0,n.jsx)("p",{children:"No venues found."})}):(0,n.jsx)("div",{className:"eventive-venues-container",children:s.map(e=>(0,n.jsx)(t,{venue:e},e.id||e.name))})};document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".wp-block-eventive-eventive-venues").forEach(t=>{t.querySelector(".eventive-venues-container, .eventive-venues-loading")||(0,e.createRoot)(t).render((0,n.jsx)(s,{}))})})})();