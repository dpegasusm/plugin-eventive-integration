(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var n in a)e.o(a,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.element,a=window.wp.apiFetch;var n=e.n(a);const l=window.ReactJSXRuntime,r={_eventive_runtime:{label:"Runtime",format:e=>{if(!e)return"Runtime not available";const t=Math.floor(e/60),a=e%60;return t>0?`${t}h ${a}m`:`${a}m`}},_eventive_year:{label:"Year",format:e=>e||"Year not available"},_eventive_language:{label:"Language",format:e=>e||"Language not available"},_eventive_country:{label:"Country",format:e=>e||"Country not available"},_eventive_director:{label:"Director",format:e=>e||"Director not available"}};function o({postId:e,metaField:a,label:o,showLabel:i}){const[s,v]=(0,t.useState)(null),[c,d]=(0,t.useState)(!0),[m,u]=(0,t.useState)(null);if((0,t.useEffect)(()=>{if(!e)return u("Unable to determine the current post ID."),void d(!1);n()({path:`/wp/v2/eventive_film/${e}`}).then(e=>{const t=e.meta?.[a];v(t),d(!1)}).catch(e=>{console.error("[eventive-film-meta] Error fetching meta:",e),u("Unable to load metadata"),d(!1)})},[e,a]),c)return(0,l.jsx)("div",{className:"eventive-loading",children:"Loading..."});if(m)return(0,l.jsx)("div",{className:"eventive-error",children:m});const f=r[a]||{},b=o||f.label||a,h=f.format?f.format(s):s||"No value";return(0,l.jsxs)("div",{className:"eventive-film-meta-content",children:[i&&(0,l.jsxs)("span",{className:"eventive-film-meta-label",children:[b,": "]}),(0,l.jsx)("span",{className:"eventive-film-meta-value",children:h})]})}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".wp-block-eventive-film-meta").forEach(e=>{const a=window.EventiveBlockData?.postId||"",n=e.dataset.metaField||"_eventive_runtime",r=e.dataset.label||"",i="false"!==e.dataset.showLabel;a?(0,t.createRoot)(e).render((0,l.jsx)(o,{postId:a,metaField:n,label:r,showLabel:i})):e.innerHTML='<div class="eventive-error">This block requires it be placed on a Eventive Film post type.</div>'})})})();