(()=>{"use strict";const e=window.wp.element,t=window.ReactJSXRuntime,a={_eventive_runtime:{label:"Runtime",format:e=>{if(!e)return"Runtime not available";const t=Math.floor(e/60),a=e%60;return t>0?`${t}h ${a}m`:`${a}m`}},_eventive_year:{label:"Year",format:e=>e||"Year not available"},_eventive_language:{label:"Language",format:e=>e||"Language not available"},_eventive_country:{label:"Country",format:e=>e||"Country not available"},_eventive_director:{label:"Director",format:e=>e||"Director not available"}};function n({metaField:n,label:l,showLabel:o}){const[r,i]=(0,e.useState)(null),[s,c]=(0,e.useState)(!0),[m,v]=(0,e.useState)(null);if((0,e.useEffect)(()=>{const e=document.body.classList.contains("single-eventive_film")?document.querySelector('article[id^="post-"]')?.id?.replace("post-",""):null;if(!e)return v("Unable to determine the current post ID."),void c(!1);fetch(`/wp-json/wp/v2/eventive_film/${e}`).then(e=>{if(!e.ok)throw new Error("Failed to fetch post data");return e.json()}).then(e=>{const t=e.meta?.[n];i(t),c(!1)}).catch(e=>{console.error("[eventive-film-meta] Error fetching meta:",e),v("Unable to load metadata"),c(!1)})},[n]),s)return(0,t.jsx)("div",{className:"eventive-loading",children:"Loading..."});if(m)return(0,t.jsx)("div",{className:"eventive-error",children:m});const d=a[n]||{},u=l||d.label||n,f=d.format?d.format(r):r||"No value";return(0,t.jsxs)("div",{className:"eventive-film-meta-content",children:[o&&(0,t.jsxs)("span",{className:"eventive-film-meta-label",children:[u,": "]}),(0,t.jsx)("span",{className:"eventive-film-meta-value",children:f})]})}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".wp-block-eventive-film-meta").forEach(a=>{const l=a.dataset.metaField||"_eventive_runtime",o=a.dataset.label||"",r="false"!==a.dataset.showLabel;(0,e.createRoot)(a).render((0,t.jsx)(n,{metaField:l,label:o,showLabel:r}))})})})();