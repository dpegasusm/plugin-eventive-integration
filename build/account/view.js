(()=>{"use strict";const e=window.wp.element,n=window.ReactJSXRuntime;function t(){const[t,o]=(0,e.useState)(!1),[i,c]=(0,e.useState)(!0);return(0,e.useEffect)(()=>{const e=()=>{window.Eventive&&"function"==typeof window.Eventive.isLoggedIn&&(o(window.Eventive.isLoggedIn()),c(!1))};if(window.Eventive&&window.Eventive.ready)window.Eventive.ready(e);else if(window.Eventive&&window.Eventive.on)window.Eventive.on("ready",e);else{let n=0;const t=setInterval(()=>{window.Eventive&&"function"==typeof window.Eventive.isLoggedIn?(e(),clearInterval(t)):++n>50&&(c(!1),clearInterval(t))},100)}},[]),i?(0,n.jsx)("div",{className:"eventive-account-container",children:(0,n.jsx)("p",{style:{textAlign:"center"},children:"Loading..."})}):t?(0,n.jsxs)("div",{className:"eventive-account-container",children:[(0,n.jsx)("div",{className:"account-actions",children:(0,n.jsx)("a",{href:"#",onClick:e=>{if(e.preventDefault(),"function"!=typeof window.handleLogout){try{localStorage.clear()}catch(e){}try{sessionStorage.clear()}catch(e){}document.cookie="eventive-personState=; path=/; max-age=0",window.Eventive&&window.Eventive.logout?window.Eventive.logout().then(()=>window.location.reload()).catch(()=>window.location.reload()):window.location.reload()}else window.handleLogout()},className:"eventive-logout-link",children:"Log out"})}),(0,n.jsxs)("div",{className:"top-section",children:[(0,n.jsx)("div",{className:"account-details",children:(0,n.jsx)("div",{className:"eventive-account-details-placeholder"})}),(0,n.jsx)("div",{className:"account-passes",children:(0,n.jsx)("div",{className:"eventive-account-passes-placeholder"})})]}),(0,n.jsx)("div",{className:"account-tickets",children:(0,n.jsx)("div",{className:"eventive-account-tickets-placeholder"})})]}):(0,n.jsxs)("div",{className:"eventive-account-container",children:[(0,n.jsx)("p",{style:{textAlign:"center"},children:"You are not logged in. Please log in to view your account."}),(0,n.jsx)("div",{className:"eventive-login-placeholder"})]})}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".wp-block-eventive-eventive-account").forEach(o=>{o.querySelector(".eventive-account-container")||(0,e.createRoot)(o).render((0,n.jsx)(t,{}))})})})();