(()=>{"use strict";window.wp.element,document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".wp-block-eventive-events").forEach(t=>{const e=t.getAttribute("data-tag-id")||"",n=t.getAttribute("data-venue-id")||"",i=t.getAttribute("data-image")||"poster",o="true"===t.getAttribute("data-description"),a="true"===t.getAttribute("data-show-filter"),s=(t.getAttribute("data-event-id"),t.getAttribute("data-films-base")||""),v=window.eventiveOptions?.eventBucket||"",r=(window.eventiveOptions,s||window.eventiveOptions?.filmDetailBaseURL||""),c=window.eventiveOptions?.usePrettyPermalinks||!1,d=window.eventiveOptions?.filmSyncEnabled||!1;(async()=>{try{const s=window.EventiveBlockData?.apiEndpoints||{},l=window.EventiveBlockData?.eventNonce||"",u=new URLSearchParams({bucket_id:v,endpoint:"events",upcoming_only:"true",eventive_nonce:l,...e&&{"tag-id":e},...n&&{"venue-id":n}}),m=await wp.apiFetch({path:`/eventive/v1/${s.event_buckets}?${u}`,method:"GET"}),p=(m?.events||[]).filter(t=>!t.is_virtual);!function(t,e,n){if(!e.length)return void(t.innerHTML='<p class="no-events">No upcoming events found.</p>');const i={};e.forEach(t=>{const e=new Date(t.start_time).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"});i[e]||(i[e]=[]),i[e].push(t)});let o='<div class="event-schedule-container">';Object.keys(i).forEach(t=>{const e=i[t],a=`events-count-${Math.min(e.length,3)}`;o+=`\n\t\t\t\t<div class="event-group">\n\t\t\t\t\t<h3 class="event-group-header">${t}</h3>\n\t\t\t\t\t<div class="event-group-items ${a}">\n\t\t\t`,e.forEach(t=>{o+=function(t,e){const{imageMode:n,showDescription:i,filmDetailBaseURL:o}=e,a=new Date(t.start_time).toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"});let s="";if("none"!==n&&t.film){const e="poster"===n?t.film.poster_url:"cover"===n?t.film.cover_url:t.film.still_url;e&&(s=`<div class="event-image"><img src="${e}" alt="${t.film.name||t.name}" /></div>`)}let v="";return i&&t.description&&(v=`<p class="event-description">${t.description}</p>`),`\n\t\t\t<div class="event-item">\n\t\t\t\t${s}\n\t\t\t\t<div class="event-content">\n\t\t\t\t\t<h4 class="event-title">${t.name}</h4>\n\t\t\t\t\t<p class="event-time">${a}</p>\n\t\t\t\t\t${t.venue?`<p class="event-venue">${t.venue.name}</p>`:""}\n\t\t\t\t\t${v}\n\t\t\t\t\t<button class="eventive-button" data-eventive-event-id="${t.id}">Buy Tickets</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`}(t,n)}),o+="</div></div>"}),o+="</div>",t.innerHTML=o}(t,p,{imageMode:i,showDescription:o,showFilter:a,filmDetailBaseURL:r,prettyPermalinks:c,filmSyncEnabled:d}),window.Eventive?.rebuild&&window.Eventive.rebuild()}catch(e){console.error("Error fetching events:",e),t.innerHTML='<p class="error-message">Failed to load events.</p>'}})()})})})();